<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>munet Network Library for muwerk Scheduler on ESP Hardware: ustd::Ota Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">munet Network Library for muwerk Scheduler on ESP Hardware
   </div>
   <div id="projectbrief">A muwerk network library supporting WiFi, NTP, OTA and MQTT for ESP8266 and ESP32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceustd.html">ustd</a></li><li class="navelem"><a class="el" href="classustd_1_1Ota.html">Ota</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classustd_1_1Ota-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ustd::Ota Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>munet OTA Class  
 <a href="classustd_1_1Ota.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ota_8h_source.html">ota.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af83b7dcb119bbd3af7c064f061c8a31c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classustd_1_1Ota.html#af83b7dcb119bbd3af7c064f061c8a31c">Ota</a> ()</td></tr>
<tr class="separator:af83b7dcb119bbd3af7c064f061c8a31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1481e14b367cf18e155a9bff75c407"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classustd_1_1Ota.html#abd1481e14b367cf18e155a9bff75c407">begin</a> (Scheduler *_pSched)</td></tr>
<tr class="separator:abd1481e14b367cf18e155a9bff75c407"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>munet OTA Class </p>
<p>The OTA object listens for network connections and automatically establishes OTA update funcionality on successful connection to WiFi. In case of software update, all other muwerk tasks are automatically halted, and software update is granted priority.</p>
<p>Network failures are handled automatically.</p>
<h2>Sample OTA Integration</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#define __ESP__ 1   </span><span class="comment">// Platform defines required, see doc, mainpage.</span></div>
<div class="line"><span class="preprocessor">#include &quot;scheduler.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;net.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ota.h&quot;</span></div>
<div class="line"> </div>
<div class="line">ustd::Scheduler sched;</div>
<div class="line"><a class="code" href="classustd_1_1Net.html">ustd::Net</a> net();</div>
<div class="line"><a class="code" href="classustd_1_1Ota.html">ustd::Ota</a> ota;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line">    net.<a class="code" href="classustd_1_1Ota.html#abd1481e14b367cf18e155a9bff75c407">begin</a>(&amp;sched);</div>
<div class="line">    ota.<a class="code" href="classustd_1_1Ota.html#abd1481e14b367cf18e155a9bff75c407">begin</a>(&amp;sched);</div>
<div class="line">}</div>
<div class="ttc" id="aclassustd_1_1Net_html"><div class="ttname"><a href="classustd_1_1Net.html">ustd::Net</a></div><div class="ttdoc">munet, the muwerk network class for WiFi and NTP</div><div class="ttdef"><b>Definition:</b> net.h:72</div></div>
<div class="ttc" id="aclassustd_1_1Ota_html"><div class="ttname"><a href="classustd_1_1Ota.html">ustd::Ota</a></div><div class="ttdoc">munet OTA Class</div><div class="ttdef"><b>Definition:</b> ota.h:57</div></div>
<div class="ttc" id="aclassustd_1_1Ota_html_abd1481e14b367cf18e155a9bff75c407"><div class="ttname"><a href="classustd_1_1Ota.html#abd1481e14b367cf18e155a9bff75c407">ustd::Ota::begin</a></div><div class="ttdeci">void begin(Scheduler *_pSched)</div><div class="ttdef"><b>Definition:</b> ota.h:76</div></div>
</div><!-- fragment --><p>Security note: currently the API doesn't support setting an OTA password. Please use:</p>
<div class="fragment"><div class="line">ArduinoOTA.setPassword(<span class="stringliteral">&quot;secret&quot;</span>);</div>
<div class="line"><span class="comment">// or:</span></div>
<div class="line"><span class="comment">// MD5(admin) = 21232f297a57a5a743894a0e4a801fc3</span></div>
<div class="line">ArduinoOTA.setPasswordHash(<span class="stringliteral">&quot;21232f297a57a5a743894a0e4a801fc3&quot;</span>);</div>
</div><!-- fragment --><p>to set an OTA password. This will be supported within the API in a future version. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af83b7dcb119bbd3af7c064f061c8a31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af83b7dcb119bbd3af7c064f061c8a31c">&#9670;&nbsp;</a></span>Ota()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ustd::Ota::Ota </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Instantiate a over-the-air (OTA) software update object.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abd1481e14b367cf18e155a9bff75c407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd1481e14b367cf18e155a9bff75c407">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ustd::Ota::begin </td>
          <td>(</td>
          <td class="paramtype">Scheduler *&#160;</td>
          <td class="paramname"><em>_pSched</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Setup OTA over-the-air software update.</p>
<p>This activates the OTA interface. As soon as a network connection is available, listening for OTA requests are started. Handling of network connections and disconnnects is done automatically and does not require further interaction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_pSched</td><td>Pointer to the muwerk scheduler.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ota_8h_source.html">ota.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
